---
import Layout from '../layouts/Layout.astro'

import Profile from '../components/Profile.astro'
import Contact from '../components/Contact.astro'

import ContentAbout from '../components/ContentAbout.astro'
import ContentAssets from '../components/ContentAssets.astro'
import ContentCode from '../components/ContentCode.astro'
import ContentLink from '../components/ContentLink.astro'
---

<Layout>

    <!-- Start: Main Wrapper -->
    <main class="flex flex-col md:flex-row w-full max-w-full md:max-w-7xl border border-gray-600 rounded-2xl overflow-hidden shadow-2xl relative bg-black mb-12 md:mb-4 lg:mb-20 xl:mb-4">

        <!-- Start: Left / upper card -->
        <div class="px-8 md:px-6 pt-6 pb-6 lg:pb-16 xl:pb-6 flex flex-col justify-between w-full md:w-2/5 border-b md:border-b-0 md:border-r border-gray-600">

            <Profile />

            <Contact />

        </div>
        <!-- End: Left / upper card -->

        <!-- Start: Right / lower card (yes 4/5 instead of 3/5) -->
        <div class="w-full md:w-4/5 p-0">

            <!-- Start: Inner wrapper -->
            <div class="min-h-full h-[90vh] flex flex-col overflow-y-scroll">

                <!-- Use hidden radio buttons to control the tabs -->
                <div class="tab-controls">

                    <input
                        type="radio" id="tab1" name="tabs" class="tab-radio"
                        checked
                    />
                    <input type="radio" id="tab2" name="tabs" class="tab-radio" />
                    <input type="radio" id="tab3" name="tabs" class="tab-radio" />
                    <input type="radio" id="tab4" name="tabs" class="tab-radio" />
                    <input type="radio" id="tab5" name="tabs" class="tab-radio" />
                    <input type="radio" id="tab6" name="tabs" class="tab-radio" />

                    <!-- Start: Tab bar -->
                    <div class="flex bg-black border-b border-gray-600 sticky top-0 z-10">

                        <ContentLink contentId="tab1" contentName="SWAP" />
                        <ContentLink contentId="tab2" contentName="ASSETS" />
                        <ContentLink contentId="tab3" contentName="READ ME" />
                        <ContentLink contentId="tab4" contentName="swap.jsx" />
                        <ContentLink contentId="tab5" contentName="swap.py" />
                        <ContentLink contentId="tab6" contentName="Need help?" />

                    </div>
                    <!-- End: Tab bar -->

                    <!-- Start: Tab content -->
                    <div class="p-6 flex-grow overflow-y-auto bg-black">

                        <div id="content1" class="tab-content">
                            <ContentAbout />
                        </div>

                        <div id="content2" class="tab-content">
                            <ContentAssets />
                        </div>

                        <div id="content3" class="tab-content">
                            <ContentAbout />
                        </div>

                        <div id="content4" class="tab-content">
                            <ContentCode />
                        </div>

                        <div id="content5" class="tab-content">
                            <ContentCode />
                        </div>

                        <div id="content6" class="tab-content">
                            <ContentAbout />
                        </div>

                    </div>
                    <!-- End: Tab content -->

                </div>

            </div>
            <!-- End: Inner wrapper -->

        </div>
        <!-- End: Right / lower card -->

    </main>
    <!-- End: Main Wrapper -->

    <!-- Credits -->
    <div class="fixed md:absolute bottom-0 left-0 right-0 w-full text-center bg-black pt-2 pb-2 lg:pb-5 xl:pb-2">
        Built with ❤️ by <a href="https://sansbank.org" target="_blank" title="Sansbank DAO" class="text-primary hover:underline">
            Sansbank DAO
        </a>
        for the DASH community
    </div>

</Layout>

<style is:global>

    /* Hide the radio buttons */
    .tab-radio {
        @apply absolute opacity-0 pointer-events-none;
    }

    /* Default state - hide all tab content */
    .tab-content {
        @apply hidden opacity-0;
        transition: opacity 0.3s ease-in-out;
    }

    /* Default state for tab links */
    .tab-link {
        @apply border-b-2 border-transparent bg-transparent;
        transition: background-color 0.2s ease-in-out;
    }

    /* When tab1 is checked, show content1 and highlight its tab */
    #tab1:checked ~ * #content1 {
        @apply block opacity-100;
    }
    #tab1:checked ~ .flex .tab-link:nth-child(1) {
        @apply border-b-2 border-b-primary;
    }

    /* When tab2 is checked, show content2 and highlight its tab */
    #tab2:checked ~ * #content2 {
        @apply block opacity-100;
    }
    #tab2:checked ~ .flex .tab-link:nth-child(2) {
        @apply border-b-2 border-b-primary;
    }

    /* When tab3 is checked, show content3 and highlight its tab */
    #tab3:checked ~ * #content3 {
        @apply block opacity-100;
    }
    #tab3:checked ~ .flex .tab-link:nth-child(3) {
        @apply border-b-2 border-b-primary;
    }

    /* When tab4 is checked, show content4 and highlight its tab */
    #tab4:checked ~ * #content4 {
        @apply block opacity-100;
    }
    #tab4:checked ~ .flex .tab-link:nth-child(4) {
        @apply border-b-2 border-b-primary;
    }

    /* When tab5 is checked, show content5 and highlight its tab */
    #tab5:checked ~ * #content5 {
        @apply block opacity-100;
    }
    #tab5:checked ~ .flex .tab-link:nth-child(5) {
        @apply border-b-2 border-b-primary;
    }

    /* When tab6 is checked, show content6 and highlight its tab */
    #tab6:checked ~ * #content6 {
        @apply block opacity-100;
    }
    #tab6:checked ~ .flex .tab-link:nth-child(6) {
        @apply border-b-2 border-b-primary;
    }

</style>
